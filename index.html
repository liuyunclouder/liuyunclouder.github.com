<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  <link href="/libs/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"/>




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  




<link href="/libs/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Ezio's Blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Ezio's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ezio's Blog">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>

  <title> Ezio's Blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?a63d6742fa06ccda252c7c1bdc9649d9";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Ezio's Blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">record</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-home fa-fw"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-th fa-fw"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-archive fa-fw"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-tags fa-fw"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-user fa-fw"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/07/《暗时间》阅读笔记/" itemprop="url">
                  《暗时间》阅读笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2017-01-07T20:00:00+08:00" content="2017-01-07">
              2017-01-07
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2017/01/07/《暗时间》阅读笔记/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2017/01/07/《暗时间》阅读笔记/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="高效记忆方法"><a href="#高效记忆方法" class="headerlink" title="高效记忆方法"></a>高效记忆方法</h2><p>你拥有的知识并不取决于你记得多少，而在于他们能否在恰当的时候被回忆起来，<br>而能否在恰当的时候回忆起某个知识，关键在于多创造记忆的线索：位置、声音、气味、场景等，相当于多制造索引</p>
<ol>
<li>养成习惯，经常回顾一段时间内学习的内容</li>
<li>创造回忆的机会: 经常和别人讨论、整理笔记、书写体会</li>
<li>设身处地地“虚拟经历”别人经历过的事情</li>
<li>抽象和推广</li>
<li>联系和比较自身的经历</li>
</ol>
<h2 id="时间管理原则"><a href="#时间管理原则" class="headerlink" title="时间管理原则"></a>时间管理原则</h2><ol>
<li>思考问题时要问自己：问题的本质是什么？目前的进展怎么样？我该如何条理清晰地向别人说明这个问题？</li>
<li>注意知识的本质：抓住不变量</li>
<li>重视积累的力量，做好长时间的计划</li>
<li>时不时跳出细节，以宏观的角度看待自己目前的阶段，不要急着去处理细节，判断一件事是否值得去做有时比怎么做一件事更重要</li>
<li>充分利用暗时间：把问题放在大脑里长时间发酵，并保持专注</li>
<li>要事第一：优先处理重要但不紧迫的事</li>
</ol>
<h2 id="阅读学习方法"><a href="#阅读学习方法" class="headerlink" title="阅读学习方法"></a>阅读学习方法</h2><p>关键在于以下三点：</p>
<ol>
<li>能够迅速进入专注状态</li>
<li>能够长期保持专注状态</li>
<li>能够具备超强的抗干扰能力</li>
</ol>
<p>方法：</p>
<ol>
<li>趁着对一件事情有热情的时候，一鼓作气把万事开头难的阶段熬过去</li>
<li>选择好资料</li>
<li>选择性阅读</li>
<li>SQ3R方法（Survey、Question、Read、Recite、Review）</li>
</ol>
<h2 id="知识结构"><a href="#知识结构" class="headerlink" title="知识结构"></a>知识结构</h2><p>专注于不变量，快速浏览易变量</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/31/2016总结/" itemprop="url">
                  2016总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-31T20:00:00+08:00" content="2016-12-31">
              2016-12-31
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/31/2016总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/31/2016总结/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://d.pr/i/fOT1+" alt=""></p>
<p>越来越觉得每年过得越来越快了，要是不记录一下都不知道自己都做了什么。</p>
<p>这一年，找了份后端的工作，熟悉了后端开发，也顺带加强了下计算机底层和网络的基础。有人问为什么放着好好的iOS不做，偏去做一个新的岗位，具体原因有很多，最主要的还是希望自己能在互联网这个行业中走得更远更好，所以希望经受短暂的挫折，可以换来更长远的收获。</p>
<p>今年杭州的房价突然上涨，我也忍耐不住，跟着一起买了房。买房的事情比较折腾，但事情有个着落，心里也踏实。通过这次买房让我有了点小收获：眼光很重要，碰到问题要找数据并动脑去分析，而不是以固有的观念去看待。</p>
<p>去年做了个宝宝拍拍的iOS APP，今年手痒，业余时间写了个Mac APP：<a href="http://liuyunclouder.github.io/2016/10/22/Arsos%20%E2%80%94%20a%20lib%20search%20engine%20for%20coder/" target="_blank" rel="external">Arsos</a>，从web前端、移动端，到后端，都是一人独立完成，算是在独立开发者的路上尝试了一小步。都说从0到1是最困难的，从1到100是简单的，希望明年能在产品设计上多思考一下，能解决用户的痛点。</p>
<p>因为公司需要，年底开始做一个数据采集的iOS SDK：DTTracker，幸好平时也持续关注着，老本行做起来还是驾轻就熟。</p>
<p>今年有朋友给我介绍单子，也有我给朋友介绍单子，还有朋友让我帮忙评估单子，人脉和信誉的确很重要。当然，能力才是最重要的。</p>
<p>今年还做了几个小插件，<a href="https://github.com/liuyunclouder/popclip_extension" target="_blank" rel="external">JSONizer</a>、 <a href="https://github.com/liuyunclouder/alfredworkflow" target="_blank" rel="external">Portkiller</a> 、<a href="https://github.com/liuyunclouder/alfredworkflow" target="_blank" rel="external">Arsos</a>，虽然并没有带来收入，但还是很高兴。</p>
<p>另外一件比较高兴的事情就是考了个证：阿里云企业级互联网架构专业认证（ACP），从此就是有证程序员了。</p>
<p>但今年对我影响最大的就是看了一本书：《软技能》，国外的一位老司机级别的独立开发者写的，关于程序员的各方面的建议，也是因为这本书，让我下定决心在杭州买房。今年看的觉得不错的一本技术类的书就是《深入理解计算机系统》，这本书更多的专注在底层的细节，把《Linux/UNIX系统编程手册》中一些概念做了更详细的说明，另外一本不错的非技术书就是《人类简史》，虽然没有《文明之光》中涉猎的学科和范围那么广，但把从古至今人类社会发展的规律阐述得非常耐人寻味。</p>
<p>最后一件值得记录的事情就是坚持维护了这个博客和微信公众号AppLife，把每周的收获记录下来，和做Arsos以及那些插件一样，希望在能帮助他人的同时增加自己的影响力。</p>
<p>前面路还长，今年能做完这些，对自己还算满意。</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/26/请叫我架构师，谢谢/" itemprop="url">
                  请叫我架构师，谢谢
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-26T20:00:00+08:00" content="2016-12-26">
              2016-12-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/26/请叫我架构师，谢谢/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/26/请叫我架构师，谢谢/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>是的，从今往后就可以持证上岗了。</p>
<p>阿里云企业级互联网架构专业认证（ACP）：<br><img src="http://d.pr/i/4kzi+" alt=""></p>
<p>下个月再去考个讲师，隐隐觉得这可以做一个副业…</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/24/C语言中的位操作/" itemprop="url">
                  C语言中的位操作
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-24T20:00:00+08:00" content="2016-12-24">
              2016-12-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/24/C语言中的位操作/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/24/C语言中的位操作/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>记录下C语言中的一些位操作。</p>
<pre><code>#define BIT_POSITION (1 &lt;&lt; 3)    // 00001000
</code></pre><p>为flags设置一个bit：</p>
<pre><code>flags |= BIT_POSITION; 
</code></pre><p>为flags清除一个bit：</p>
<pre><code>flags &amp;= ~BIT_POSITION;
</code></pre><p>查看flags是否有某个bit：</p>
<pre><code>if (flags &amp; BIT_POSITION) {     // do something }
</code></pre><p>查看flags是否设置了MULTI_BITS的所有bit：</p>
<pre><code>if ((flags &amp; MULTI_BITS) == MULTI_BITS) {     // do something }
</code></pre>
          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/17/iOS绕过HTTPS证书校验/" itemprop="url">
                  iOS绕过HTTPS证书校验
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-17T20:00:00+08:00" content="2016-12-17">
              2016-12-17
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/17/iOS绕过HTTPS证书校验/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/17/iOS绕过HTTPS证书校验/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　iOS开发中使用的通信协议，除了聊天和物联网相关的APP可能会用到XMPP和MQTT，剩下的应用通常都只会用到HTTP和HTTPS这两种协议，而由于ATS的限制，iOS默认都是实用HTTPS，除非修改项目的info.plist：<br><img src="http://d.pr/i/eMcv+" alt=""></p>
<p>对于HTTPS，熟悉HTTPS协议的人都知道，HTTPS基本上就是在HTTP协议的基础上加了一层SSL/TLS加密协议，这层加密协议在建立通信时除了HTTP本身的3次握手外，还会再经历额外的身份校验、数据加解密过程：<br><img src="http://d.pr/i/AFoF+" alt=""></p>
<p>这些过程中会混合使用非对称加密、对称加密、证书校验和数字签名等手段，其中证书校验的过程：<br><img src="http://d.pr/i/Ik26+" alt=""></p>
<ol>
<li>首先，服务器的运营人员向数字证书认证机构提出公开密钥的申请。数字证书认证机构在判明提出申请者的身份之后，会对已申请的公开密钥做数字签名，然后分配这个已签名的公开密钥，并将该公开密钥放入公钥证书后绑定在一起。</li>
<li>服务器会将这份由数字证书认证机构颁发的公钥证书发送给客户端，以进行公开密钥加密方式通信。公钥证书也可叫做数字证书或直接称为证书。</li>
<li>接到证书的客户端可使用数字证书认证机构的公开密钥，对那张证书上的数字签名进行验证，一旦验证通过，客户端便可明确两件事：一，认证服务器的公开密钥的是真实有效的数字证书认证机构。二，服务器的公开密钥是值得信赖的。 </li>
<li>此处认证机关的公开密钥必须安全地转交给客户端。使用通信方式时，如何安全转交是一件很困难的事。因此，多数浏览器开发商发布版本时，会事先在内部植入常用认证机关的公开密钥。  </li>
</ol>
<p>而通常在开发环境中服务端会使用自签名证书，或者即使在生产环境中可能也会使用免费的证书，这些证书的认证机构可信度通常低于那些收费的大型认证机构，这样，在步骤3的时候客户端对证书的认证可能就失败了。最近在开发公司的iOS SDK就碰到这个问题，直接调用HTTPS接口会报错：</p>
<pre><code>HTTP load failed (kCFStreamErrorDomainSSL, -9843)
</code></pre><p>明白了原理后，解决方案就简单了，只需要客户端在校验时对使用的域名设置白名单就行了，以下是使用NSURLSession时需要在delegate上做的修改：</p>
<pre><code>NSURLSessionConfiguration *sessionConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration];
NSURLSession *session = [NSURLSession sessionWithConfiguration:sessionConfiguration delegate:self delegateQueue:Nil];


- (void)URLSession:(NSURLSession *)session didReceiveChallenge:(NSURLAuthenticationChallenge *)challenge completionHandler:(void (^)(NSURLSessionAuthChallengeDisposition, NSURLCredential *))completionHandler{
    if([challenge.protectionSpace.authenticationMethod isEqualToString:NSURLAuthenticationMethodServerTrust]){
        if([challenge.protectionSpace.host isEqualToString:@&quot;recvapi.log.dtstack.com&quot;]){
            NSURLCredential *credential = [NSURLCredential credentialForTrust:challenge.protectionSpace.serverTrust];
            completionHandler(NSURLSessionAuthChallengeUseCredential,credential);
        } else {
            completionHandler(NSURLSessionAuthChallengeCancelAuthenticationChallenge, nil);
        }
    }
}
</code></pre><p>这样就可以解决开发时的证书校验失败的问题。</p>
<p>但这只限于开发阶段，治标不治本，不能在生产环境下使用，要想治本，最好还是更换服务器证书，找个可信度高的大型认证机构重新弄份证书。</p>
<p>服务端更换证书也简单，以Nginx为例，拿到证书后，修改Nginx的配置：</p>
<pre><code>server { 
    listen 443 ssl;
    server_name example.com;

    ssl on;
    ssl_certificate /etc/ssl/private/example_com.crt;
    ssl_certificate_key /etc/ssl/private/example_com.key;
}
</code></pre><p>然后重启服务就行了：</p>
<pre><code>nginx -t &amp;&amp; nginx -s reload
</code></pre>
          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/10/iOS framework开发流程总结/" itemprop="url">
                  iOS framework开发流程总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-10T20:00:00+08:00" content="2016-12-10">
              2016-12-10
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/10/iOS framework开发流程总结/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/10/iOS framework开发流程总结/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近在做一个iOS的统计SDK，需要从零开始做一个framework，同时为了方便开发，花了点时间折腾，于是顺便总结一下iOS framework的开发流程，不同的Xcode版本流程会有些小区别，以下使用的是7.3.1。</p>
<h2 id="建立framework工程"><a href="#建立framework工程" class="headerlink" title="建立framework工程"></a>建立framework工程</h2><p>建framework工程之前，要先了解framework</p>
<h3 id="framework和-a"><a href="#framework和-a" class="headerlink" title="framework和.a"></a>framework和.a</h3><p>iOS一直只对用户开放静态库，直到iOS8用户才能用动态库，然而这个动态库貌似也只能是进程内，无法跨进程共享。</p>
<p>我们用的更多的还是静态库，iOS静态库有两种类型，framework和.a，看过linux系统方面的人对.a和.so应该都不陌生，事实上苹果下的.a和linux下的.a从格式上来看不是同一个东西，一个是Mach-O，一个是ELF，但其实Mach-O只是苹果在ELF的基础上添加一些额外的段，可以认为基本一样。那么framework呢？可以认为framework只是对.a的一层额外的封装，类似苹果对ipa的封装，把.a文件包装进一个结构化的目录结构，这样就是一个framework。由于framework本身是一个目录，于是可以把属于framework内部的一些资源也放进去，比如头文件、图片、音视频文件等等，从封装的角度来看，framework是比.a更好的选择。</p>
<p>其实，我们不需要了解这么多，也不需要自己建这些目录层次，xcode已经帮我们做了大部分的工作，我们需要的只是改几个配置。</p>
<h3 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h3><p>新建framework工程：<br><img src="http://d.pr/i/Q1tm+" alt=""></p>
<p>填好framework名称，确定，就生成了一个完整的framework工程：<br><img src="http://d.pr/i/G4WS+" alt=""></p>
<p>运行一下，红色的framework就变黑，说明framework已经生成了。但这个framework并不是我们想要的<br><img src="http://d.pr/i/vbRS+" alt=""></p>
<p>这个framework只有arm7和arm64两种架构的指令内容，如果直接发布这个framework，开发者将无法在模拟器上编译，后续我们会说到多架构指令的必要。另外，这是一个动态库，我们需要的是静态库。</p>
<p>在Build Setting里设置以下几个参数<br><img src="http://d.pr/i/CATu+" alt=""><br><img src="http://d.pr/i/13OyS+" alt=""><br><img src="http://d.pr/i/w95z+" alt=""><br><img src="http://d.pr/i/fJqs+" alt=""></p>
<p>Architectures：包含哪些架构指令，这里我们需要添加armv7s架构<br>Build Active Architecture Only：是否只为当前架构编译<br>Dead Code Stripping：是否从framework中删除未使用的代码<br>Link With Standard Libraries：是否链接苹果标准库<br>Mach-O Type：这里有好几种类型，我们需要选中static library<br>Other Linker Flags：链接参数，如果framework中使用了category，最好加上ObjC、all_load，确保运行时系统会加载其中的category<br>Other C Flags：额外的C语言链接参数，如果需要支持bitcode，需要加上-fembed-bitcode<br>Generate Debug Symbols：生成Debug符号，设为Yes，这样作为依赖工程时断点才会生效</p>
<p>重新编译运行：<br><img src="http://d.pr/i/xx82+" alt=""></p>
<p>这离我们想要的framework不远了。</p>
<p>另外，我们新建一个类，毕竟，我们要做一个统计SDK</p>
<pre><code>#import &lt;Foundation/Foundation.h&gt;

@interface DTTrackManager : NSObject

- (void)trackEvent:(NSString *)event;

@end

@implementation DTTrackManager

- (void)trackEvent:(NSString *)event {
    NSLog(@&quot;you are tracking event: %@&quot;, event);
}

@end
</code></pre><p>我们想要把DTTrackManager开放给开发者，让他们能使用这个类，还需要做一点额外设置：<br><img src="http://d.pr/i/S7gk+" alt=""></p>
<p>这样，打包出来的framework就包含了我们想要公开的头文件了<br><img src="http://d.pr/i/FDY4+" alt=""></p>
<h3 id="多架构和打包"><a href="#多架构和打包" class="headerlink" title="多架构和打包"></a>多架构和打包</h3><p>不同的CPU使用不同的指令，我们一般称一套指令为一种架构，比如笔记本电脑的CPU和移动端手机的CPU使用不同的指令，类似的，32位CPU与64位CPU使用不同的指令，因此我们需要一个能包含所有架构指令的framework，这样，开发者才能在不同的CPU环境下都能使用我们的framework。</p>
<p>我们现在的framework包含了3种架构指令，armv7、armv7s、arm64，这些都是iOS系统使用的架构，macbook等macOS系统是无法使用这个framework的，这就导致开发者目前是无法用这个framework在模拟器上调试。</p>
<p>因此，我们需要再添加i386和x86_64这两种桌面端系统使用的架构。我们可以单独编译这两个架构，然后用lipo命令手工合成，但xcode提供了一个更好的方案。<br><img src="http://d.pr/i/1MV1+" alt=""></p>
<p>选中刚创建的DTTrackerCombiner，在Build Phase下添加一个执行脚本：<br><img src="http://d.pr/i/mnl0+" alt=""></p>
<p>脚本内容：</p>
<pre><code>set -e

UNIVERSAL_OUTPUTFOLDER=${BUILD_DIR}/${CONFIGURATION}-universal


mkdir -p &quot;${UNIVERSAL_OUTPUTFOLDER}&quot;


xcodebuild -target &quot;${PROJECT_NAME}&quot; ONLY_ACTIVE_ARCH=NO -configuration ${CONFIGURATION} -sdk iphoneos  BUILD_DIR=&quot;${BUILD_DIR}&quot; BUILD_ROOT=&quot;${BUILD_ROOT}&quot; clean build
xcodebuild -arch x86_64 -arch i386 -target &quot;${PROJECT_NAME}&quot; -configuration ${CONFIGURATION} -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO BUILD_DIR=&quot;${BUILD_DIR}&quot; BUILD_ROOT=&quot;${BUILD_ROOT}&quot; clean build


cp -R &quot;${BUILD_DIR}/${CONFIGURATION}-iphoneos/${PROJECT_NAME}.framework&quot; &quot;${UNIVERSAL_OUTPUTFOLDER}/&quot;


lipo -create -output &quot;${UNIVERSAL_OUTPUTFOLDER}/${PROJECT_NAME}.framework/${PROJECT_NAME}&quot; &quot;${BUILD_DIR}/${CONFIGURATION}-iphonesimulator/${PROJECT_NAME}.framework/${PROJECT_NAME}&quot; &quot;${BUILD_DIR}/${CONFIGURATION}-iphoneos/${PROJECT_NAME}.framework/${PROJECT_NAME}&quot;


cp -R &quot;${UNIVERSAL_OUTPUTFOLDER}/${PROJECT_NAME}.framework&quot; &quot;${PROJECT_DIR}&quot;


open &quot;${PROJECT_DIR}&quot;
</code></pre><p>ps:<br>    -arch x86_64 -arch i386<br>为模拟器编译的两个架构需要显式指定，否则编译报错</p>
<p>选择正确的scheme和目标，开始编译<br><img src="http://d.pr/i/c9O7+" alt=""></p>
<p>如果编译成功，会弹出编译好的framework所在目录，检查下是不是包含了我们想要的全部架构<br><img src="http://d.pr/i/4PQh+" alt=""></p>
<p>One More Thing!<br>把打包scheme的配置改为release<br><img src="http://d.pr/i/J9wX+" alt=""></p>
<p>这样，我们只要把源文件放入这个工程里，设置好需要公开的头文件，就能编译出我们想要的framework了，非常方便。但是，实际开发中，我们需要一边开发framework，一边在使用这个framework的Demo工程里测试这个framework，如果每次都需要编译一遍framework工程，然后在Demo工程里替换framework，这会严重影响开发效率。</p>
<h2 id="Demo工程"><a href="#Demo工程" class="headerlink" title="Demo工程"></a>Demo工程</h2><p>新建一个DTTrackerDemo工程，注意Deployment Target设置不要低于framework的。</p>
<h3 id="接入framework工程"><a href="#接入framework工程" class="headerlink" title="接入framework工程"></a>接入framework工程</h3><p>接入framework工程很简单，在Finder里找到DTTracker.xcodeproj，直接拖入DTTrackerDemo工程中就行了<br><img src="http://d.pr/i/dtg0+" alt=""></p>
<p>这样，就可以直接在Demo工程里运行framework工程的target来编译framework了。注意，framework工程只能存在一份，额外的framework工程必须关掉，否则DTTrackerDemo工程里会找不到DTTracker.xcodeproj下的文件和target。<br><img src="http://d.pr/i/iCHA+" alt=""></p>
<p>我们需要在每次运行Demo工程时先运行framework工程，这样才能获取最新代码，因此在Demo工程的Build Phase中添加对framework的依赖<br><img src="http://d.pr/i/NrWK+" alt=""></p>
<p>这里的Target Dependencies选择DTTracker而不是DTTrackerCombiner只是因为可以缩短打包时间，毕竟DTTrackerCombiner需要把5份架构打进去，而DTTracker只需要打3份。至于为什么DTTracker明明不包含模拟器的架构却可以启动Demo APP，这个需要看下Demo APP的所在目录<br><img src="http://d.pr/i/M7bG+" alt=""><br>Demo APP被放在Debug-iphonesimulator目录下，再看下该目录下的DTTracker.framework<br><img src="http://d.pr/i/1lCdb+" alt=""></p>
<p>没毛病，是模拟器需要的架构。</p>
<h2 id="开发流程"><a href="#开发流程" class="headerlink" title="开发流程"></a>开发流程</h2><p>万事具备，来测试一下我们的framework。</p>
<p>在Demo工程的ViewController.m引入framework头文件：</p>
<pre><code>#import &lt;DTTracker/DTTrackManager.h&gt;
</code></pre><p>初始化一个DTTrackManager并调用trackEvent方法</p>
<pre><code>- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view, typically from a nib.

    DTTrackManager *tracker = [[DTTrackManager alloc] init];
    [tracker trackEvent:@&quot;viewDidLoad&quot;];
}
</code></pre><p>运行<br><img src="http://d.pr/i/tFih+" alt=""></p>
<p>完美！</p>
<p>那打包framework呢？直接在Demo工程里，选中DTTracker.xcodeproj，选中我们之前添加Aggregate target对应的scheme：DTTrackerCombiner，直接打包<br><img src="http://d.pr/i/DL24+" alt=""></p>
<p>至此，我们完成了</p>
<ol>
<li>framework工程的建立和优化，能独立编译可以直接发布的framework</li>
<li>在Demo工程添加对framework工程的依赖，建立了framework开发流程</li>
</ol>
<p>这样，整个我们就可以愉快地开发framework了！</p>
<p>关于framework还有一些没提到的内容，比如bundle资源、添加framework自定义编译宏，后续有时间再写。</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/03/Invictus 不可征服/" itemprop="url">
                  Invictus 不可征服
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-12-03T20:00:00+08:00" content="2016-12-03">
              2016-12-03
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/03/Invictus 不可征服/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/03/Invictus 不可征服/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>　　Out of the night that covers me, 透过覆盖我的深夜，  </p>
<p>　　Black as the Pit from pole to pole, 我看见层层无底的黑暗。  </p>
<p>　　I thank whatever gods may be 感谢上帝曾赐我，  </p>
<p>　　For my unconquerable soul. 不可征服的灵魂。  </p>
<p>　　In the fell clutch of circumstance 就算被地狱紧紧攫住，  </p>
<p>　　I have not winced nor cried aloud. 我不会畏缩，也不惊叫。  </p>
<p>　　Under the bludgeoninmgs of chance 经受过一浪又一浪的打击，  </p>
<p>　　My head is bloody, but unbowed. 我满头鲜血都不低头。  </p>
<p>　　Beyond this place of wrath and tear 在这满是愤怒和眼泪的世界之外，  </p>
<p>　　Looms but the Horror of the shade, 可怕的阴影在游荡。  </p>
<p>　　And yet the menace of the years 还有，未来的威胁，  </p>
<p>　　Finds, and shall find, me unafraid. 可我是毫不畏惧的。  </p>
<p>　　It matters not how strait the gate, 无论我将穿过的那扇门有多窄，  </p>
<p>　　How charged with punishments the scroll, 无论我将肩承怎样的责罚。  </p>
<p>　　I am the master of my fate: 我是命运的主宰，  </p>
<p>　　I am the captain of my soul. 我是灵魂的统帅。 </p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/26/常用Docker命令/" itemprop="url">
                  常用Docker命令
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-11-26T20:00:00+08:00" content="2016-11-26">
              2016-11-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/26/常用Docker命令/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/26/常用Docker命令/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>用Docker已经有段时间了，积累了一些常用命令，记录一下</p>
<h2 id="启动容器"><a href="#启动容器" class="headerlink" title="启动容器"></a>启动容器</h2><pre><code>docker run -it lingwu/kafka
</code></pre><h3 id="启动并进入容器控制台"><a href="#启动并进入容器控制台" class="headerlink" title="启动并进入容器控制台"></a>启动并进入容器控制台</h3><pre><code>docker run -it --rm -v /Users/ezio/docker_volume/webapp:/webapp -p 3000:80 webapp sh
</code></pre><h3 id="以后台进程启动"><a href="#以后台进程启动" class="headerlink" title="以后台进程启动"></a>以后台进程启动</h3><pre><code>docker run -d -v /Users/ezio/docker_volume/webapp:/webapp -p 3000:80 webapp
</code></pre><h2 id="查看正在运行的容器"><a href="#查看正在运行的容器" class="headerlink" title="查看正在运行的容器"></a>查看正在运行的容器</h2><pre><code>docker ps
</code></pre><h3 id="查看所有容器（运行中和已停止）"><a href="#查看所有容器（运行中和已停止）" class="headerlink" title="查看所有容器（运行中和已停止）"></a>查看所有容器（运行中和已停止）</h3><pre><code>docker ps -a
</code></pre><h2 id="查看容器中的进程信息"><a href="#查看容器中的进程信息" class="headerlink" title="查看容器中的进程信息"></a>查看容器中的进程信息</h2><pre><code>docker top es
</code></pre><h2 id="查看端口映射"><a href="#查看端口映射" class="headerlink" title="查看端口映射"></a>查看端口映射</h2><pre><code>docker port 9b7bb332ab88
</code></pre><h2 id="查看log"><a href="#查看log" class="headerlink" title="查看log"></a>查看log</h2><pre><code>docker logs 9b7bb332ab88
</code></pre><h2 id="进入容器"><a href="#进入容器" class="headerlink" title="进入容器"></a>进入容器</h2><pre><code>docker exec -it 9b7bb332ab88 sh
</code></pre><h2 id="停止容器"><a href="#停止容器" class="headerlink" title="停止容器"></a>停止容器</h2><pre><code>docker stop 9b7bb332ab88
</code></pre><h2 id="重启容器"><a href="#重启容器" class="headerlink" title="重启容器"></a>重启容器</h2><pre><code>docker start 9b7bb332ab88
</code></pre><h2 id="删除容器"><a href="#删除容器" class="headerlink" title="删除容器"></a>删除容器</h2><pre><code>docker rm 9b7bb332ab88
</code></pre><h3 id="删除所有容器"><a href="#删除所有容器" class="headerlink" title="删除所有容器"></a>删除所有容器</h3><pre><code>docker rm docker ps -qa
</code></pre><h2 id="删除镜像"><a href="#删除镜像" class="headerlink" title="删除镜像"></a>删除镜像</h2><pre><code>docker rmi webapp
</code></pre><h2 id="从容器生成镜像"><a href="#从容器生成镜像" class="headerlink" title="从容器生成镜像"></a>从容器生成镜像</h2><pre><code>docker commit -a 作者名字 -m 提交原因 容器ID 镜像名称:版本号 
docker commit -a &quot;lingwu&quot; -m &quot;added vim&quot; 13d26d692be1 lingwu/kafka:v1 
</code></pre><h2 id="把镜像推送到仓库"><a href="#把镜像推送到仓库" class="headerlink" title="把镜像推送到仓库"></a>把镜像推送到仓库</h2><pre><code>docker login
docker push lingwu/kafka
</code></pre><p>参考： <a href="https://github.com/wsargent/docker-cheat-sheet" target="_blank" rel="external">https://github.com/wsargent/docker-cheat-sheet</a></p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/19/那些把我们坑惨了的bug/" itemprop="url">
                  那些把我们坑惨了的bug
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-11-19T20:00:00+08:00" content="2016-11-19">
              2016-11-19
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/19/那些把我们坑惨了的bug/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/19/那些把我们坑惨了的bug/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>说说我所碰到的几个比较折腾的bug</p>
<h4 id="vpn-reachability"><a href="#vpn-reachability" class="headerlink" title="vpn + reachability"></a>vpn + reachability</h4><p>之前在开发宝宝拍拍app的时候，需要监控网络状态，一旦有网络，需要尽快把本地图片上传到阿里云OSS，因为上传图片的同时，还需要把SQLite记录上传到我们自己的服务器，所以就这么写了：</p>
<p><code>reach = Reachability reachabilityWithHostname:@&quot;http://ibbpp.com/&quot;</code><br>本地测试了下，没问题，于是就放心提交了。<br>后来客户反馈说在有网状态下，图片一直没上传。</p>
<p>首先怀疑是服务器挂了，结果发现<a href="http://ibbpp.com/" target="_blank" rel="external">http://ibbpp.com/</a>首页能正常打开。用自己的手机测试了下，也没问题。</p>
<p>最终发现客户的截图上显示有挂VPN，于是挂上VPN测试，果然。同时，客户在国外没挂VPN也能复现这个问题。</p>
<p>于是猜测很可能是网络本身的问题，比如DNS解析服务。最终的解决方案：</p>
<p><code>reach = Reachability reachabilityWithHostname:@&quot;www.baidu.com&quot;</code><br>当然，当我们服务器挂了，只要阿里云OSS服务没挂，图片还是能正常上传，不会影响业务逻辑。</p>
<p>这里有个小问题。Reachability底层使用SCNetworkReachabilityRef来监测网络状况</p>
<pre><code>+(Reachability*)reachabilityWithHostname:(NSString*)hostname
{
    SCNetworkReachabilityRef ref = SCNetworkReachabilityCreateWithName(NULL, [hostname UTF8String]);
    if (ref) 
    {
        id reachability = [[self alloc] initWithReachabilityRef:ref];

        return reachability;
    }

    return nil;
}
</code></pre><p>而SCNetworkReachabilityRef本身是不准确的：</p>
<blockquote>
<p>The SCNetworkReachability programming interface allows an application to determine the status of a system’s current network configuration and the reachability of a target host. A remote host is considered reachable when a data packet, sent by an application into the network stack, can leave the local device. Reachability does not guarantee that the data packet will actually be received by the host</p>
</blockquote>
<p>在局域网没有连接互联网的情况下，比如家里 WiFi能连上但宽带欠费了，SCNetworkReachability还会显示网络可用。</p>
<p>最好的方案还是直接调用一个自定义的服务器接口，使用短超时和特定返回来监测网络状况。或者直接Ping也行。</p>
<h4 id="messageid"><a href="#messageid" class="headerlink" title="messageid"></a>messageid</h4><p>在IM应用中，需要记录消息的id，这个id一般位数会比较长，比如64bit。后续从数据库中取出时需要经过JSON序列化，比如</p>
<p><code>NSJSONSerialization JSONObjectWithData:self options:NSJSONReadingAllowFragments|NSJSONReadingMutableContainers|NSJSONReadingMutableLeaves error:error</code><br>而苹果的NSJSONSerialization在iOS7和iOS7以下的系统上转换大数值时会使用NSDecimalNumber，在iOS8上会使用CFNumber。</p>
<p>而苹果在设计NSDecimalNumber时，只保证53bit的精度，所以任何超过这一精度的数值在JSON序列化之后，如果直接通过unsignedLongLongValue方法来获取时都可能会出错。</p>
<p>解决方案，先转化为字符串再转成数值：</p>
<p><code>[[decimalNumber description] longLongValue]</code></p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/12/保存Git用户名密码/" itemprop="url">
                  保存Git用户名密码
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-11-12T20:00:00+08:00" content="2016-11-12">
              2016-11-12
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/11/12/保存Git用户名密码/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/11/12/保存Git用户名密码/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在部署服务时，一般都会有jenkins等工具来完成一键部署，但有时还是免不了需要登录远程主机手工部署，这时，如果能在远程主机上保存下Git的用户名密码，就可以提供不少工作效率。</p>
<p>一般我们使用HTTPS协议来clone Git仓库，这样每次pull都需要输入用户名密码，<br>很不方便，我们可以保存这些信息</p>
<p><code>git config --global credential.helper store</code></p>
<p>这样，只需要输入一次就行了。</p>
<p>但以上方法会把用户名密码以明文的方式保存在.gitcredentials文件中，很不安全，使用以下命令可以把用户名信息在内存中保存3600秒，这样，即可以保证安全性，也能避免经常输用户名密码</p>
<p><code>git config --global credential.helper &quot;cache --timeout=3600&quot;</code></p>
<p>缺点就是，每过3600秒或者主机重启后都要重新输入。</p>
<p>但是，如果你的主机是MAC PRO就没这个问题了，</p>
<p><code>git config --global credential.helper osxkeychain</code></p>
<p>这样就把敏感信息保存在钥匙串中了。windows也有类似的工具。但是，我们常用的linux貌似没有类型的工具。</p>
<p>另外一种方法就是使用SSH协议，利用密钥的方式来更好的兼顾安全和效率。</p>
<p><code>ssh-keygen -t rsa -C &quot;name@dtstack.com&quot;</code></p>
<p>然后克隆仓库时需要使用SSH协议就好了。</p>

          
        
      
    </div>
    
    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpeg"
               alt="Ezio" />
          <p class="site-author-name" itemprop="name">Ezio</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">28</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        <div class="links-of-blogroll motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ezio</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>



      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/libs/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/libs/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/libs/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/libs/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/libs/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/libs/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"githubliuyunclouder"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  

  

  

</body>
</html>
